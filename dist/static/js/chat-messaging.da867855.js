(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chat-messaging"],{"3b99":function(t,e,a){},"428a":function(t,e,a){"use strict";a("614c");var s=a("75a0"),i=a.n(s);e["a"]={mixins:[i.a],props:{text:String,small:Boolean,large:Boolean,medium:Boolean,dot:Boolean,pill:Boolean,ring:Boolean},computed:{classes(){const t={"circle-sm":this.small,"circle-lg":this.medium,"circle-xl":this.large,"circle-ring":this.ring,"circle-dot":this.dot,"circle-pill":this.pill,"theme--light":this.light,"theme--dark":this.dark};return t}},render(t){const e={staticClass:"circle",class:this.classes,attrs:{tabindex:this.disabled?-1:0},on:this.$listeners};return t("span",e,[this.$slots.default])}}},4500:function(t,e,a){"use strict";a.r(e);var s=a("c6bf"),i=a("e1c0"),r=a("932a"),o=function(){var t=this,e=t._self._c;return e(s["a"],{staticClass:"fill-height pa-0 ma-0 messaging fluid",attrs:{id:"messaging"}},[t.$vuetify.breakpoint.smAndDown?[e(r["a"],{attrs:{column:""}},[t.showSidebar?e(i["a"],{staticClass:"white",attrs:{sm12:""}},[e("chat-history")],1):t._e(),t.showWindow?e(i["a"],{attrs:{sm12:""}},[e("chat-window")],1):t._e()],1)]:[e(r["a"],{attrs:{row:""}},[e(i["a"],{staticClass:"white",attrs:{lg3:""}},[e("chat-history")],1),e(i["a"],{attrs:{lg9:""}},[e("chat-window")],1)],1)]],2)},n=[],l=a("b364"),c=a("d91e"),u=a("db57"),h=a("0729"),d=a("20aa"),p=a("5c9a"),f=a("618e"),m=a("beb5"),v=a("e65c"),g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"chat-history"},[e(v["a"],{staticClass:"chat-history-toolbar",attrs:{dense:""}},[e(m["a"],{attrs:{flat:"",solo:"","full-width":"",clearable:"","prepend-icon":"search",label:"Search"}})],1),e("vue-perfect-scrollbar",{staticClass:"chat-history--scrollbar"},[e(l["a"]),e(c["a"],{staticClass:"chat-history--list",attrs:{"two-line":""}},[e(f["a"],[t._v("History")]),t._l(t.chats,(function(a,s){return[e(l["a"],{key:s}),e(u["a"],{key:a.title+s,staticClass:"chat-list",attrs:{avatar:"",to:t.chatRoute(a.uuid)}},[e(p["a"],{attrs:{color:t.randomAvatarColor(a)}},[1===a.users.length?e("img",{attrs:{src:a.user.avatar}}):e("span",{staticClass:"white--text headline"},[t._v(t._s(t.firstLetter(a.title)))])]),e(d["b"],[e(d["d"],[t._v(" "+t._s(t.computeTitle(a)))]),e(d["c"],[t._v("Some Latest message")])],1),e(h["a"],[e(d["a"],[t._v(" "+t._s(t.formatChatTime(a.created_at))+" ")]),e("v-circle",{attrs:{dot:"",small:"",color:t.chatStatusColor(a)}})],1)],1)]}))],2)],1)],1)},b=[],y=a("d800"),w=a("c24f"),x=a("428a"),_=a("4260"),C=a("2a9b"),O=a.n(C),S={components:{VuePerfectScrollbar:O.a,VCircle:x["a"]},data:()=>({chats:y["a"]}),methods:{chatRoute(t){return"/chat/messaging/"+t},firstLetter(t){return t.charAt(0)},formatChatTime(t){return new Date(t).toLocaleDateString()},computeTitle(t){let e=1===t.users.length?Object(w["b"])(t.users[0]).username:"";return 1===t.users.length?e:t.title},randomAvatarColor(t){return 1===t.users.length?"":_["a"].randomElement(["blue","indigo","success","error","pink"])},chatStatusColor(t){return _["a"].randomElement(["blue","indigo","success","error","pink"])}}},j=S,k=a("76b2"),A=Object(k["a"])(j,g,b,!1,null,null,null),I=A.exports,T=a("9d8c"),B={components:{ChatHistory:I,ChatWindow:T["a"]},data(){return{}},computed:{showSidebar(){return void 0===this.$route.params.uuid},showWindow(){return void 0!==this.$route.params.uuid}}},H=B,$=Object(k["a"])(H,o,n,!1,null,null,null);e["default"]=$.exports},"614c":function(t,e,a){},"61dc":function(t,e,a){},"75a0":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var a=[],s=!0,i=!1,r=void 0;try{for(var o,n=t[Symbol.iterator]();!(s=(o=n.next()).done);s=!0)if(a.push(o.value),e&&a.length===e)break}catch(l){i=!0,r=l}finally{try{!s&&n["return"]&&n["return"]()}finally{if(i)throw r}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},r=a("e883"),o=n(r);function n(t){return t&&t.__esModule?t:{default:t}}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t){return!!t&&!!t.match(/^(#|(rgb|hsl)a?\()/)}e.default=o.default.extend({name:"colorable",props:{color:String},methods:{setBackgroundColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(t)?e.style=i({},e.style,{"background-color":""+t,"border-color":""+t}):t&&(e.class=i({},e.class,l({},t,!0))),e},setTextColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c(t))e.style=i({},e.style,{color:""+t,"caret-color":""+t});else if(t){var a=t.toString().trim().split(" ",2),r=s(a,2),o=r[0],n=r[1];e.class=i({},e.class,l({},o+"--text",!0)),n&&(e.class["text--"+n]=!0)}return e}}})},"9d8c":function(t,e,a){"use strict";var s=a("8692"),i=a("5855"),r=a("d7b9"),o=a("d181"),n=a("61f6"),l=a("5087"),c=a("beb5"),u=a("e65c"),h=a("f060"),d=(a("61dc"),a("2689")),p=a("e108"),f=a("258d"),m=a("b1b6"),v=a("90b6"),g=a("7c3f"),b=a("77f4"),y=a("0b2e");function w(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var x={name:"v-tooltip",mixins:[d["a"],p["a"],f["a"],m["a"],v["a"],g["a"]],props:{closeDelay:{type:[Number,String],default:200},debounce:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:200},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,a=t.content,s=!this.bottom&&!this.left&&!this.top&&!this.right,i=this.isAttached?e.offsetLeft:e.left,r=0;return this.top||this.bottom||s?r=i+e.width/2-a.width/2:(this.left||this.right)&&(r=i+(this.right?e.width:-a.width)+(this.right?10:-10)),this.nudgeLeft&&(r-=parseInt(this.nudgeLeft)),this.nudgeRight&&(r+=parseInt(this.nudgeRight)),this.calcXOverflow(r,this.dimensions.content.width)+"px"},calculatedTop:function(){var t=this.dimensions,e=t.activator,a=t.content,s=this.isAttached?e.offsetTop:e.top,i=0;return this.top||this.bottom?i=s+(this.bottom?e.height:-a.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=s+e.height/2-a.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),this.calcYOverflow(i+this.pageYOffset)+"px"},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left}},computedTransition:function(){return this.transition?this.transition:this.top?"slide-y-reverse-transition":this.right?"slide-x-transition":this.bottom?"slide-y-transition":this.left?"slide-x-reverse-transition":""},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(b["c"])(this.maxWidth),minWidth:Object(b["c"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(b["l"])(this,"activator",!0)&&Object(y["a"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},genActivator:function(){var t=this,e=this.disabled?{}:{mouseenter:function(e){t.getActivator(e),t.runDelay("open")},mouseleave:function(e){t.getActivator(e),t.runDelay("close")}};if("scoped"===Object(b["l"])(this,"activator")){var a=this.$scopedSlots.activator({on:e});return this.activatorNode=a,a}return this.$createElement("span",{on:e,ref:"activator"},this.$slots.activator)}},render:function(t){var e,a=t("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(e={},w(e,this.contentClass,!0),w(e,"menuable__content__active",this.isActive),w(e,"v-tooltip__content--fixed",this.activatorFixed),e),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.showLazyContent(this.$slots.default));return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[t("transition",{props:{name:this.computedTransition}},[a]),this.genActivator()])}},_=function(){var t=this,e=t._self._c;return e(r["a"],{staticClass:"chat-room"},[e(u["a"],{staticClass:"white chat-room--toolbar",attrs:{card:"",dense:"",flat:"",light:""}},[e(i["a"],{attrs:{icon:""}},[e(n["a"],{attrs:{color:"text--secondary"}},[t._v("keyboard_arrow_left")])],1),t.chat.users?t._l(t.chat.users,(function(a,i){return e(s["a"],{key:i,staticClass:"avatar-stack",attrs:{size:"32"}},[e("img",{attrs:{src:t.getAvatar(a),alt:""}})])})):t._e(),e(l["a"]),e(h["b"],[e("h4",[t._v("Chat Channel")])]),e(l["a"]),e(x,{attrs:{bottom:""}},[e(i["a"],{attrs:{slot:"activator",icon:""},slot:"activator"},[e(n["a"],{attrs:{color:"text--secondary"}},[t._v("add")])],1),e("span",[t._v("Add user")])],1)],2),e("vue-perfect-scrollbar",{staticClass:"chat-room--scrollbar grey lighten-5",style:t.computeHeight},[e(o["b"],{staticClass:"chat-room--list pa-3"},[t._l(t.chat.messages,(function(a,i){return[e("div",{key:i,staticClass:"messaging-item layout row my-4",class:[i%2==0?"reverse":""]},[e(s["a"],{staticClass:"indigo mx-1",attrs:{size:"40"}},[e("img",{attrs:{src:a.user.avatar,alt:""}})]),e("div",{staticClass:"messaging--body layout column mx-2"},[e("p",{staticClass:"pa-2",class:[i%2==0?"primary white--text":"white"],attrs:{value:!0}},[t._v(" "+t._s(a.text)+" ")]),e("div",{staticClass:"caption px-2 text--secondary"},[t._v(" "+t._s(new Date(a.created_at).toLocaleString())+" ")])]),e(l["a"])],1)]}))],2)],1),e(o["a"],[e(c["a"],{attrs:{"full-width":"",flat:"",clearable:"",solo:"","append-icon":"send",label:"Type some message here"}},[e(n["a"],{attrs:{slot:"append-icon"},slot:"append-icon"},[t._v("send")]),e(n["a"],{staticClass:"mx-2",attrs:{slot:"append-icon"},slot:"append-icon"},[t._v("photo")]),e(n["a"],{attrs:{slot:"append-icon"},slot:"append-icon"},[t._v("face")])],1)],1)],1)},C=[],O=a("d800"),S=a("c24f"),j=a("2a9b"),k=a.n(j),A={components:{VuePerfectScrollbar:k.a},props:{uuid:{type:String,default:""},height:{type:String,default:null}},computed:{chat(){let t={title:"Chat",users:[],messages:[]},e=Object(O["c"])(this.$route.params.uuid);return Object.assign(t,e)},computeHeight(){return{height:this.height||""}}},methods:{getAvatar(t){return Object(S["b"])(t).avatar}}},I=A,T=a("76b2"),B=Object(T["a"])(I,_,C,!1,null,null,null);e["a"]=B.exports},beb5:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var s=a("ebe6"),i=(a("3b99"),a("0b2e")),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},o={name:"v-textarea",extends:s["a"],props:{autoGrow:Boolean,noResize:Boolean,outline:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return r({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},s["a"].options.computed.classes.call(this,null))},dynamicHeight:function(){return this.autoGrow?this.inputHeight:"auto"},isEnclosed:function(){return this.textarea||s["a"].options.computed.isEnclosed.call(this)},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){!this.internalChange&&this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0),this.autoGrow&&this.noResize&&Object(i["b"])('"no-resize" is now implied when using "auto-grow", and can be removed',this)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height=0;var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=s["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){s["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.internalChange=!0,this.$emit("keydown",t)}}},n=a("d74b"),l=a("8eb6"),c={functional:!0,$_wrapperFor:s["a"],props:{textarea:Boolean,multiLine:Boolean},render:function(t,e){var a=e.props,r=e.data,u=e.slots,h=e.parent;Object(l["a"])(r);var d=Object(n["a"])(u(),t);return a.textarea&&Object(i["d"])("<v-text-field textarea>","<v-textarea outline>",c,h),a.multiLine&&Object(i["d"])("<v-text-field multi-line>","<v-textarea>",c,h),a.textarea||a.multiLine?(r.attrs.outline=a.textarea,t(o,r,d)):t(s["a"],r,d)}}}}]);
//# sourceMappingURL=chat-messaging.da867855.js.map